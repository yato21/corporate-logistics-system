# Модуль внутренней логистики для корпоративных систем

## Описание
Модуль предназначен для организации и управления внутренней логистикой на предприятиях с большими территориями. Система позволяет эффективно координировать перемещение людей и грузов, назначать транспорт, планировать маршруты и контролировать выполнение задач.

## Функциональные возможности

### Для пользователей:
- Создание заявок на транспорт с указанием маршрута, даты, времени и типа необходимого транспорта
- Отслеживание статусов заявок в реальном времени
- Просмотр истории поездок и заказов
- Управление личным профилем
- Календарный обзор всех запланированных поездок
  
### Для диспетчеров:
- Назначение транспорта и водителей на заявки
- Оптимизация маршрутов и загрузки транспорта
- Управление расписанием и оперативное реагирование на изменения

### Для водителя:
- Календарный обзор всех запланированных поездок
- Возжность принимать и завершать заказы
- Отслеживание статусов заявок в реальном времени
- Просмотр истории поездок и заказов
- Управление личным профилем

## Технический стек

### Фронтенд:
- React.js (функциональные компоненты, хуки)
- Redux для управления состоянием приложения
- React Router для маршрутизации
- CSS для стилизации (с адаптивным дизайном)
- Material-UI для некоторых компонентов интерфейса

### Бэкенд:
- Node.js в качестве серверной платформы
- Express.js для создания RESTful API
- PostgreSQL в качестве базы данных
- Sequelize для объектного моделирования данных
- Socket.io для real-time уведомлений
- Multer для обработки загрузки файлов

### Инфраструктура:
- RESTful API для взаимодействия клиента с сервером
- JWT для аутентификации

## Структура проекта 

```
client/
├── src/
│   ├── components/         # Компоненты приложения
│   │   ├── common/         # Общие компоненты (модальные окна, уведомления и т.д.)
│   │   ├── dispatcher/     # Компоненты для диспетчера (назначение транспорта и т.п.)
│   │   ├── layout/         # Компоненты макета (шапка, сайдбар и т.д.)
│   │   └── order/          # Компоненты для работы с заказами
│   ├── pages/              # Страницы приложения
│   │   ├── Calendar/       # Календарь поездок
│   │   ├── Profile/        # Страница профиля
│   │   └── ...             # Другие страницы
│   ├── redux/              # Redux-структура для управления состоянием
│   │   └── slices/         # Слайсы Redux для различных частей приложения
│   ├── styles/             # Глобальные стили
│   └── utils/              # Утилитарные функции
└── public/                 # Статические файлы

server/
├── controllers/            # Контроллеры API
├── models/                 # Модели данных
├── routes/                 # Маршруты API
├── middleware/             # Промежуточное ПО (аутентификация и др.)
├── utils/                  # Утилитарные функции
└── config/                 # Конфигурационные файлы
```

## Особенности реализации

### Адаптивный дизайн
Интерфейс полностью адаптирован для работы на различных устройствах:
- Десктопные компьютеры
- Планшеты
- Мобильные устройства (до 320px)

### Модульная архитектура
Система построена по модульному принципу, что обеспечивает:
- Гибкость при интеграции в существующие корпоративные системы
- Возможность расширения функциональности
- Удобное сопровождение и масштабирование

### Пользовательский опыт
- Интуитивно понятный интерфейс
- Быстрый доступ к часто используемым функциям
- Всплывающие уведомления о важных событиях
- Интерактивный календарь для визуального планирования

## Запуск проекта для разработки

1. Клонирование репозитория
   ```bash
   git clone https://github.com/yato21/corporate-logistics-system
   cd corporate-logistics-system
   ```

2. Установка зависимостей:
   ```bash
   # Для клиентской части
   cd client
   npm install

   # Для серверной части
   cd ../server
   npm install
   ```
3. Настройка переменных окружения
   ```bash
   # Скопировать пример файла окружения
   cp .env.example .env
   
   # Отредактировать файл .env, указав свои значения для:
   # - DB_HOST, DB_USER, DB_PASSWORD, DB_NAME - параметры подключения к базе данных
   # - JWT_SECRET - секретный ключ для JWT аутентификации
   # - SERVER_HOST - хост сервера
   ```

4. Запуск проекта в режиме разработки:
   ```bash
   # Запуск сервера
   cd server
   npm run dev

   # Запуск клиента (в отдельном терминале)
   cd ../client
   npm start
   ```

5. Сборка проекта:
   ```bash
   cd client
   npm run build
   ```

## Развертывание на сервере

Проект настроен для развертывания с использованием Docker и docker-compose на сервере Fedora Linux.

1. Клонирование репозитория на сервер:
   ```bash
   git clone https://github.com/yato21/corporate-logistics-system
   cd corporate-logistics-system
   ```

2. Настройка переменных окружения:
   ```bash
   sudo nano .env
   
   # Отредактировать .env файл с учетом производственного окружения
   # Обязательно укажите:
   # - DB_HOST=postgres (имя сервиса базы данных в docker-compose)
   # - DB_USER, DB_PASSWORD, DB_NAME
   # - JWT_SECRET (используйте сложный случайный ключ)
   # - NODE_ENV=production
   # - SERVER_HOST (доменное имя или IP-адрес сервера)
   ```

3. Сборка и запуск контейнеров:
   ```bash
   docker-compose up -d --build
   ```

4. Инициализация базы данных (при первом запуске):
   ```bash
   # Выполнение миграций и заполнение начальными данными
   docker-compose exec server npm run init-db
   ```

5. Проверка работоспособности:
   ```bash
   # Проверка логов сервера
   docker-compose logs -f server
   
   # Проверка логов клиента
   docker-compose logs -f client
   ```

6. Доступ к приложению:
   - Клиентское приложение будет доступно по адресу: http://ваш_домен или http://IP_сервера
   - API сервер будет доступен по адресу: http://ваш_домен/api или http://IP_сервера/api

7. Обновление приложения:
   ```bash
   git pull
   docker-compose down
   docker-compose up -d --build
   ```
